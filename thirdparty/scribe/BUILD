cc_binary(
  name = 'scribe',
  srcs = [
    'src/conf.cpp',
    'src/conn_pool.cpp',
    'src/dynamic_bucket_updater.cpp',
    'src/env_default.cpp',
    'src/file.cpp',
    #'src/HdfsFile.cpp',
    'src/network_dynamic_config.cpp',
    'src/scribe_server.cpp',
    'src/store.cpp',
    'src/store_queue.cpp',
  ],
  incs = [
    '.',
    'src',
    '../thrift/fb303',
    '../thrift',
    '../boost-1.55.0',
    '../libevent',
  ],
  #defs = ['USE_SCRIBE_HDFS=1'],
  deps = [
    '#pthread',
    '//thirdparty/thrift-0.9.1:thrift',
    '//thirdparty/thrift-0.9.1:thriftnb',
    '//thirdparty/thrift-0.9.1:fb303',
    '//thirdparty/boost-1.55.0:system',
    '//thirdparty/boost-1.55.0:filesystem',
    '//thirdparty/libevent:event',
    '//thirdparty/scribe/if:scribe_thrift',
    '//thirdparty/scribe/if:bucketupdater_thrift',
  ],
  warning = 'no',
)

